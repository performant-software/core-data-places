---
import { fetchPath } from '../../../helpers/tina-cms';
import { getTranslations } from '../../../i18n/server';
import Layout from "../../../layouts/Layout.astro";
import PathViewer from "../../../components/PathViewer";

const { slug } = Astro.params;
const path = await fetchPath(slug);

const { t } = getTranslations(Astro.currentLocale);
const title = path?.title || t('paths')
---

<Layout
  tab='paths'
  title={title}
>
  { path && (
    <PathViewer
      path={path}
      client:only
    />
  )}
</Layout>