---
import config from '@config';
import _ from 'underscore';
import { fetchPages } from '@backend/tina';
import Page from '../../layouts/Page.astro';

const locale = Astro.currentLocale;

const pages = await fetchPages(locale, { filter: { home_page: { eq: true } } });
const [page,] = pages;

export const getStaticPaths = () => _.map(config.i18n.locales, (lang) => ({ params: { lang }}));

---

<Page
  slug={page?._sys?.filename}
/>