---
import Search from '@apps/session/Search';
import { getTranslations } from '@backend/i18n';
import Container from '@components/Container.astro';
import Layout from '@layouts/Layout.astro';
import { checkSession } from '@services/session';

const { lang } = Astro.params;
const { t } = await getTranslations(Astro.currentLocale);

await checkSession(Astro.session, Astro.cookies, Astro.request);

const { value: sessionId } = Astro.cookies.get('astro-session') || {};

---

<Layout
  footer
  t={t}
  title={t('savedSearches')}
>
  <Container
    className='py-6'
  >
    <Search
      lang={lang}
      sessionId={sessionId}
      client:only='react'
    />
  </Container>
</Layout>